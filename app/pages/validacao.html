 <script>
    $(document).ready(function () {

        // Máscara para CPF
        $('#cpf').on('input', function () {
            let cpf = $(this).val().replace(/\D/g, '');

            if (cpf.length > 11) {
                cpf = cpf.substring(0, 11);
            }

            cpf = cpf.replace(/(\d{3})(\d)/, '$1.$2');
            cpf = cpf.replace(/(\d{3})(\d)/, '$1.$2');
            cpf = cpf.replace(/(\d{3})(\d{1,2})$/, '$1-$2');

            $(this).val(cpf);
        });

        // Validação e modal
        $('#form').on('submit', function (e) {
            e.preventDefault();

            const cpf = $('#cpf').val();
            const regexCPF = /^\d{3}\.\d{3}\.\d{3}\-\d{2}$/;

            if (!regexCPF.test(cpf)) {
                alertify.error('CPF inválido. Use o formato 000.000.000-00.');
                $('#cpf').focus();
                return false;
            }

            // Modal de confirmação após clicar em Salvar
            alertify.alert(
                'Cadastro Realizado',
                'Seus dados foram salvos com sucesso!',
                function () {
                    alertify.success('Dados confirmados');
                    // Ação após o modal: limpar o formulário
                    $('#form')[0].reset();
                }
            );
            return false;
        });
    });
</script>
